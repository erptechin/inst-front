"use strict";(self.webpackChunkins_app=self.webpackChunkins_app||[]).push([[476],{450:(e,l,a)=>{a.d(l,{A:()=>t});var s=a(5475),i=a(579);const t=e=>{let{root:l,pageName:a}=e;return(0,i.jsx)("div",{className:"main-content-header",children:(0,i.jsx)("div",{className:"card",children:(0,i.jsx)("div",{className:"card-body no-padding",children:(0,i.jsxs)("ol",{className:"breadcrumb ltn no-radius",children:[(0,i.jsx)("li",{className:"text-normal",children:(0,i.jsx)(s.k2,{to:"/dashboard",children:"Main Dashboard"})}),l&&(0,i.jsx)("li",{className:"text-normal",children:(0,i.jsx)(s.k2,{to:"/".concat(l),children:l})}),(0,i.jsx)("li",{className:"active text-lg",children:a})]})})})})}},9202:(e,l,a)=>{a.d(l,{K:()=>m});var s=a(5043),i=a(4743),t=a(4569);function m(){const{token:e}=(0,s.useContext)(t.x),[l,a]=(0,s.useState)(null),[m,d]=(0,s.useState)(!1);return{fetchSingle:async(l,s)=>{try{d(!0),a(null);const t=await i.A.getSingleDataApi({url:l,id:s},e);t&&a(t),d(!1)}catch(t){d(!1)}},data:l,loading:m}}},5676:(e,l,a)=>{a.d(l,{e:()=>m});var s=a(5043),i=a(4743),t=a(4569);function m(){const{token:e}=(0,s.useContext)(t.x),[l,a]=(0,s.useState)(null),[m,d]=(0,s.useState)(!1);return{edit:async(l,s)=>{try{d(!0);const t=await i.A.editDataApi({url:l,body:s},e);t&&a(t),d(!1)}catch(t){d(!1)}},data:l,loading:m}}},5476:(e,l,a)=>{a.r(l),a.d(l,{default:()=>j});var s=a(5043),i=a(3216),t=a(3516),m=a(899),d=a(4307),r=a(9202),c=a(5158),n=a(5676),o=a(450),u=a(7198),h=a(579);const p="system_emails_templates",x={systemAppId:"",systemSmtpServerId:"",systemEmailTemplateTitle:"",systemEmailTemplateSubject:"",systemEmailTemplateBody:"",systemEmailTemplateSenderName:"",systemEmailTemplateSenderEmail:"",systemEmailAction:"",systemEmailTemplateSaveLogs:""};function j(){const e=(0,i.Zp)(),{id:l}=(0,i.g)(),a=m.Ik().shape({systemAppId:m.Yj().required("This is required"),systemEmailTemplateTitle:m.Yj().required("This is required"),systemEmailAction:m.Yj().required("This is required"),systemEmailTemplateSaveLogs:m.Yj().required("This is required"),systemEmailTemplateSubject:m.Yj().required("Subject is required"),systemEmailTemplateBody:m.Yj().required("Body is required"),systemEmailTemplateSenderName:m.Yj().required("Name is required"),systemEmailTemplateSenderEmail:m.Yj().email("Invalid email address").required("Email is Required")}),{fetchSingle:j,data:v,loading:y}=(0,r.K)();(0,s.useEffect)((()=>{j(p,l)}),[l]);const{create:g,data:S,loading:b}=(0,c.Y)(),{edit:N,data:E,loading:T}=(0,n.e)();(0,s.useEffect)((()=>{201==(null===S||void 0===S?void 0:S.status)&&e(-1),200==(null===E||void 0===E?void 0:E.status)&&e(-1)}),[S,E]);const q=[{label:"Order Management System  (OMS)",value:"1"},{label:"Products and Price List Management System  (PPLMS)",value:"2"}],f=[{label:"Yes, Save Logs of Outgoing Emails using this email template.",value:"Yes"},{label:"No, Do Not Save Logs of Outgoing Emails using this email template.",value:"No"}],A=[{label:"Instrowest Linux VPS",value:"1"}];return y?(0,h.jsx)(h.Fragment,{children:"loading"}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o.A,{root:"email-templates",pageName:"Add Email Template"}),(0,h.jsx)("div",{className:"main-content-body",children:(0,h.jsx)("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsxs)("div",{className:"card",children:[(0,h.jsx)(u.A,{ListName:"".concat(l?"Edit":"Add"," Email Template (All fields are mandatory).")}),(0,h.jsx)("div",{className:"form-horizontal has-validation-callback",children:(0,h.jsx)(t.l1,{initialValues:v||x,validationSchema:a,onSubmit:e=>(e=>{l?N(p,e):g(p,e)})(e),children:l=>{let{handleChange:a,handleBlur:s,handleSubmit:i,values:t,errors:m}=l;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsx)(d.aL,{required:!0,options:q,name:"systemAppId",lable:"System App",placeholder:"Select"}),(0,h.jsx)(d.aL,{required:!0,options:A,name:"systemSmtpServerId",lable:"SMTP Server",placeholder:"Select"}),(0,h.jsx)(d.cl,{required:!0,name:"systemEmailAction",lable:"Email Template Action",placeholder:""}),(0,h.jsx)(d.cl,{required:!0,name:"systemEmailTemplateTitle",lable:"Email Template Title",placeholder:""}),(0,h.jsx)(d.cl,{required:!0,name:"systemEmailTemplateSubject",lable:"Email Template Subject",placeholder:""}),(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{className:"col-lg-4 col-md-4 col-sm-12 col-xs-12 control-label",children:"\xa0"}),(0,h.jsxs)("div",{className:"col-lg-6 col-md-6 col-sm-12 col-xs-12",children:[(0,h.jsx)("div",{className:"red",children:"Use the following variables into the email subject to set dynamic values."}),(0,h.jsx)("div",{className:"grayBox",children:"{Customer Name}"})]})]}),(0,h.jsx)(d.UP,{required:!0,name:"systemEmailTemplateBody",lable:"Email Template Body",placeholder:""}),(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{className:"col-lg-4 col-md-4 col-sm-12 col-xs-12 control-label",children:"\xa0"}),(0,h.jsxs)("div",{className:"col-lg-6 col-md-6 col-sm-12 col-xs-12",children:[(0,h.jsx)("div",{className:"red",children:"Use the following variables into the email body to set dynamic values."}),(0,h.jsx)("div",{className:"grayBox",children:"{Customer Name}"})]})]}),(0,h.jsx)(d.cl,{required:!0,name:"systemEmailTemplateSenderName",lable:"Sender's Name",placeholder:""}),(0,h.jsx)(d.cl,{required:!0,name:"systemEmailTemplateSenderEmail",lable:"Sender's Email ID",placeholder:""}),(0,h.jsx)(d.aL,{required:!0,options:f,name:"systemEmailTemplateSaveLogs",lable:"Save Logs?",placeholder:"Select"}),(0,h.jsx)("div",{className:"clear"})]}),(0,h.jsxs)("div",{className:"card-action",children:[(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{className:"col-lg-4 col-md-4 col-sm-12 col-xs-12 control-label",children:"\xa0"}),(0,h.jsxs)("div",{className:"col-lg-6 col-md-6 col-sm-12 col-xs-12",children:[(0,h.jsx)(d.yp,{loading:b||T,className:"btn-success",value:"Save Email Template",onClick:()=>i()}),(0,h.jsx)(d.yp,{className:"btn-grey",value:"Go Back to List",onClick:()=>e(-1)})]})]}),(0,h.jsx)("div",{className:"clear"})]})]})}})})]})})})})]})}}}]);
//# sourceMappingURL=476.e49e9193.chunk.js.map